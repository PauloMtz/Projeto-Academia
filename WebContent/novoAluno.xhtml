<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	lang="pt-br">

	<ui:composition template="layout.xhtml">
		<ui:define name="conteudo">
		
			<div class="titulo">
				<h1>Novo aluno</h1>
			</div>
			
			<div id="infoMessage" class="infoMessage">
				<p>Mensagem de erro ou sucesso.</p>
			</div>
			
			<div class="formulario">
				<form jsf:id="form">
					<fieldset>
						<legend>Dados pessoais</legend>
						<div class="linha">
							<label for="nome">Nome:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.nome}" name="nome" id="nome"/></p>
							<!-- nesse jsf:value, o jsf chama o bean alunoBean, o método getAluno, buscando o nome lá da classe Aluno (getNome) -->
						</div>
						<div class="linha">
							<label for="sexo">Sexo:</label>
							<p>
							<select jsf:value="#{alunoBean.aluno.sexo}" name="sexo" id="sexo" size="0">
								<f:selectItems value="#{dataBean.sexos}" />
							</select>
							</p>
						</div>
						<div class="linha">
							<label for="rg">RG:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.rg}" name="rg" id="rg"/></p>
						</div>
						<div class="linha">
							<label for="data_nasc">Data de nascimento:</label>
							<p><input type="date" jsf:value="#{alunoBean.aluno.nascimento}" name="data_nasc" id="data_nasc">
								<f:convertDateTime type="Date" pattern="yyyy-MM-dd"/>
							</input></p>
						</div>
					</fieldset>
					<fieldset>
						<legend>Situação</legend>
						<div class="linha">
							<label for="situacao">Situação:</label>
							<p>
							<select jsf:value="#{alunoBean.aluno.situacao}" name="situacao" id="situacao" size="0">
								<f:selectItems value="#{dataBean.situacoes}" />
							</select>
							</p>
						</div>
					</fieldset>
					<fieldset>
						<legend>Endereço</legend>
						<div class="linha">
							<label for="rua">Rua:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.endereco.rua}" name="rua" id="rua"/></p>
						</div>
						<div class="linha">
							<label for="num">Número:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.endereco.numero}" name="num" id="num"/></p>
						</div>
						<div class="linha">
							<label for="compl">Complemento:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.endereco.complemento}" name="compl" id="compl"/></p>
						</div>
						<div class="linha">
							<label for="cidade">Cidade:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.endereco.cidade}" name="cidade" id="cidade"/></p>
						</div>
						<div class="linha">
							<label for="estado">Estado:</label>
							<p>
							<select jsf:value="#{alunoBean.aluno.endereco.estado.sigla}" name="estado" id="estado" size="0">
								<f:selectItems value="#{dataBean.estados}" var="e" itemLabel="#{e.nome}" itemValue="#{e.sigla}"/>
							</select>
							</p>
						</div>
						<div class="linha">
							<label for="cep">CEP:</label>
							<p><input type="text" jsf:value="#{alunoBean.aluno.endereco.cep}" name="cep" id="cep"/></p>
						</div>
					</fieldset>
					<fieldset>
						<legend>Contato</legend>
						<div class="linha">
							<label for="email">E-mail:</label>
							<p><input type="email" jsf:value="#{alunoBean.aluno.email}" name="email" id="email"/></p>
						</div>
						<div class="linha">
							<label for="ddd">Telefone:</label>
							<p><input type="tel" jsf:value="#{alunoBean.aluno.telefone.ddd}" name="ddd" id="ddd"/><input type="tel" jsf:value="#{alunoBean.aluno.telefone.numero}" name="telefone" id="telefone"/></p>
						</div>
					</fieldset>
					<input class="btn" type="submit" value="Cadastrar" jsf:action="#{alunoBean.gravar}"/>
					<input class="btn" type="button" value="Relatório de acessos"/>
				</form>
			</div>
		</ui:define>
	</ui:composition>
</html>